DTSG 	SEGMENT PARA 'DATA'
	n	DW 10
DTSG 	ENDS

STSG 	SEGMENT PARA STACK 'STACK'
	DW 200 DUP(?)
STSG 	ENDS

CDSG 	SEGMENT PARA 'CODE'
ASSUME	CS:CDSG, SS:STSG, DS:DTSG

DNUM 	PROC FAR
	PUSH BP
	PUSH AX
	MOV BP, SP
	MOV AX, [BP + 8]
	CMP AX, 0
	JG A_ZERO
	MOV WORD PTR [BP + 8], 0
	POP AX
	POP BP
	RETF

A_ZERO:	CMP AX, 2
	JG A_TWO
	MOV WORD PTR [BP + 8], 1
	POP AX
	POP BP
	RETF

A_TWO:	PUSH BX
	PUSH DX
	MOV BX, AX
	DEC BX
	PUSH BX
	CALL DNUM
	CALL DNUM
	POP DX
	PUSH DX
	PUSH AX
	SUB AX, 2
	PUSH AX 
	CALL DNUM
	POP DX
	POP AX
	DEC AX
	SUB AX, DX
	PUSH AX
	CALL DNUM
	POP BX
	POP DX
	ADD DX, BX
	MOV [BP + 8], DX
	POP DX
	POP BX
	POP AX
	POP BP
	RETF
DNUM 	ENDP

PRINTINT PROC NEAR
	PUSH BX
	PUSH BP
	PUSH DX
	MOV BP, SP
	MOV AX, [BP + 8]
	MOV BX, 1
	PUSH BX
	XOR DX, DX
	MOV BX, 0Ah
			
P1:	DIV BX
	ADD DX, '0'
	PUSH DX
	XOR DX, DX
	CMP AX, 0
	JNZ P1
			
P2:	POP AX
	CMP AX, 1
	JZ P3
	MOV DL, AL
	MOV AH, 2
	INT 21h
	JMP P2
			
P3:	POP DX
	POP BP
	POP BX
	RET 2
PRINTINT ENDP

MAIN 	PROC FAR
	PUSH DS
	XOR DX, DX
	PUSH DX
	MOV DX, DTSG
	MOV DS, DX
			
	MOV DX, n
	PUSH DX
	CALL DNUM
	CALL PRINTINT
	RETF
MAIN 	ENDP
CDSG 	ENDS
END 	MAIN
